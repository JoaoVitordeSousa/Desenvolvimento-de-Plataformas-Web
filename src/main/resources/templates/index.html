<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <title>Biblioteca Universitária - Login/Cadastro</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- CSS externo -->
    <link href="../static/style.css" rel="stylesheet">
    <!-- Bootstrap JS (necessário para usar bootstrap.Modal, etc.) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>
    <div class="container-auth">
        <!-- LOGIN FORM -->
        <div id="loginFormContainer">
            <h3 class="text-center mb-4">Login Biblioteca</h3>
            <form id="loginForm">
                <div class="mb-3">
                    <label for="matricula" class="form-label">Matrícula</label>
                    <input type="text" class="form-control" id="matricula" required>
                </div>
                <div class="mb-3">
                    <label for="senha" class="form-label">Senha</label>
                    <input type="password" class="form-control" id="senha" required>
                </div>
                <div id="loginError" class="text-danger mb-3" style="display:none;"></div>
                <button type="submit" class="btn btn-primary w-100">Entrar</button>
            </form>
            <div class="form-text mt-3 text-center">
                <a href="#" id="forgotPassword">Esqueceu a senha?</a> |
                <a href="#" id="goToRegister">Primeiro acesso</a>
            </div>
        </div>

        <!-- REGISTER FORM -->
        <div id="registerFormContainer" style="display:none;">
            <h3 class="text-center mb-4">Cadastro Biblioteca</h3>
            <form id="registerForm">
                <div class="mb-3">
                    <label for="nome" class="form-label">Nome completo</label>
                    <input type="text" class="form-control" id="nome" required>
                </div>
                <div class="mb-3">
                    <label for="matriculaCadastro" class="form-label">Matrícula</label>
                    <input type="text" class="form-control" id="matriculaCadastro" required>
                </div>
                <div class="mb-3">
                    <label for="email" class="form-label">Email</label>
                    <input type="email" class="form-control" id="email" required>
                </div>
                <div class="mb-3">
                    <label for="senhaCadastro" class="form-label">Senha</label>
                    <input type="password" class="form-control" id="senhaCadastro" required>
                </div>
                <div class="mb-3">
                    <label for="confirmSenha" class="form-label">Confirmar senha</label>
                    <input type="password" class="form-control" id="confirmSenha" required>
                </div>
                <div id="registerError" class="text-danger mb-3" style="display:none;"></div>
                <button type="submit" class="btn btn-primary w-100">Cadastre-se</button>
            </form>
            <div class="form-text mt-3 text-center">
                <a href="#" id="goToLogin">Já possui uma conta? Faça login</a>
            </div>
        </div>

        <!-- RECUPERAÇÃO DE SENHA -->
        <div id="forgotPasswordContainer" style="display:none;">
            <h3 class="text-center mb-4">Recuperar Senha</h3>
            <form id="forgotPasswordForm">
                <div class="mb-3">
                    <label for="nomeRecuperacao" class="form-label">Nome completo</label>
                    <input type="text" class="form-control" id="nomeRecuperacao" required>
                </div>
                <div class="mb-3">
                    <label for="emailRecuperacao" class="form-label">Email cadastrado</label>
                    <input type="email" class="form-control" id="emailRecuperacao" required>
                </div>
                <div class="mb-3">
                    <label for="matriculaRecuperacao" class="form-label">Matrícula</label>
                    <input type="text" class="form-control" id="matriculaRecuperacao" required>
                </div>
                <div id="forgotError" class="text-danger mb-3" style="display:none;"></div>
                <button type="submit" class="btn btn-primary w-100">Continuar</button>
            </form>
            <div class="form-text mt-3 text-center">
                <a href="#" id="backToLoginFromForgot">Voltar ao login</a>
            </div>
        </div>

        <!-- RESET PASSWORD -->
        <div id="resetPasswordContainer" style="display:none;">
            <h3 class="text-center mb-4">Nova Senha</h3>
            <form id="resetPasswordForm">
                <div class="mb-3">
                    <label for="novaSenha" class="form-label">Nova senha</label>
                    <input type="password" class="form-control" id="novaSenha" required>
                </div>
                <div class="mb-3">
                    <label for="confirmNovaSenha" class="form-label">Confirmar nova senha</label>
                    <input type="password" class="form-control" id="confirmNovaSenha" required>
                </div>
                <div id="resetError" class="text-danger mb-3" style="display:none;"></div>
                <button type="submit" class="btn btn-primary w-100">Confirmar</button>
            </form>
        </div>

        <!-- ADMIN CONTAINER (SPA) -->
        <div id="adminContainer" style="display:none;">
            <h3 class="text-center mb-4">Painel do Administrador</h3>

            <!-- Ações principais -->
            <div class="d-flex gap-2 mb-3">
                <button id="openCreateBookModalBtn" class="btn btn-success">Cadastrar livro</button>
                <button id="openUsersModalBtn" class="btn btn-secondary">Consultar cadastro (Admins e
                    Bibliotecários)</button>
                <button id="logoutBtn" class="btn btn-outline-danger ms-auto">Logout</button>
            </div>

            <!-- Pesquisa de livros -->
            <form id="searchBookForm" class="mb-3">
                <div class="row g-2">
                    <div class="col-12 col-md-6">
                        <input type="text" id="searchQuery" class="form-control"
                            placeholder="Pesquisar por qualquer atributo (título, autor, ISBN, gênero, código interno)...">
                    </div>
                    <div class="col-12 col-md-3">
                        <select id="searchField" class="form-select">
                            <option value="">Todos os campos</option>
                            <option value="codigoInterno">Código interno</option>
                            <option value="titulo">Título</option>
                            <option value="autor">Autor</option>
                            <option value="genero">Gênero</option>
                            <option value="isbn10">ISBN-10</option>
                            <option value="isbn13">ISBN-13</option>
                            <option value="status">Status</option>
                        </select>
                    </div>
                    <div class="col-12 col-md-3">
                        <button type="submit" class="btn btn-primary w-100">Pesquisar</button>
                    </div>
                </div>
            </form>

            <!-- Lista de resultados (livros cadastrados pelo administrador) -->
            <div id="booksListContainer" class="mt-3">
                <h5 class="mb-3">Resultados da pesquisa</h5>
                <ul id="booksList" class="list-group">
                    <!-- Cada item de livro é renderizado aqui -->
                    <!-- Template de item:
      <li class="list-group-item d-flex justify-content-between align-items-start">
        <div class="me-2 flex-grow-1">
          <div class="fw-bold">Título do Livro</div>
          <small>Código interno: ABC123 • Autor: Fulano • Gênero: Ficção • Status: DISPONIVEL</small>
        </div>
        <div class="d-flex flex-column gap-1">
          <button class="btn btn-outline-primary btn-sm" data-action="consultar" data-id="...">Consultar</button>
          <button class="btn btn-outline-warning btn-sm" data-action="editar" data-id="...">Editar</button>
        </div>
      </li>
      -->
                </ul>
            </div>

            <!-- Modal: Consulta de livro -->
            <div class="modal fade" id="consultBookModal" tabindex="-1" aria-labelledby="consultBookModalLabel"
                aria-hidden="true">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="consultBookModalLabel">Consultar livro</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <dl class="row">
                                <dt class="col-sm-4">Código interno</dt>
                                <dd class="col-sm-8" id="viewCodigoInterno"></dd>
                                <dt class="col-sm-4">Título</dt>
                                <dd class="col-sm-8" id="viewTitulo"></dd>
                                <dt class="col-sm-4">Autor</dt>
                                <dd class="col-sm-8" id="viewAutor"></dd>
                                <dt class="col-sm-4">Gênero</dt>
                                <dd class="col-sm-8" id="viewGenero"></dd>
                                <dt class="col-sm-4">ISBN-10</dt>
                                <dd class="col-sm-8" id="viewIsbn10"></dd>
                                <dt class="col-sm-4">ISBN-13</dt>
                                <dd class="col-sm-8" id="viewIsbn13"></dd>
                                <dt class="col-sm-4">Status</dt>
                                <dd class="col-sm-8" id="viewStatus"></dd>
                                <dt class="col-sm-4">Sinopse</dt>
                                <dd class="col-sm-8" id="viewSinopse"></dd>
                            </dl>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal: Edição de livro -->
            <div class="modal fade" id="editBookModal" tabindex="-1" aria-labelledby="editBookModalLabel"
                aria-hidden="true">
                <div class="modal-dialog modal-lg">
                    <form id="editBookForm" class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="editBookModalLabel">Editar livro</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <input type="hidden" id="editId">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label for="editCodigoInterno" class="form-label">Código interno</label>
                                    <input type="text" class="form-control" id="editCodigoInterno" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="editTitulo" class="form-label">Título</label>
                                    <input type="text" class="form-control" id="editTitulo" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="editAutor" class="form-label">Autor</label>
                                    <input type="text" class="form-control" id="editAutor" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="editGenero" class="form-label">Gênero</label>
                                    <input type="text" class="form-control" id="editGenero" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="editIsbn10" class="form-label">ISBN-10</label>
                                    <input type="text" class="form-control" id="editIsbn10" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="editIsbn13" class="form-label">ISBN-13</label>
                                    <input type="text" class="form-control" id="editIsbn13" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="editStatus" class="form-label">Status</label>
                                    <select id="editStatus" class="form-select" required>
                                        <option value="DISPONIVEL">Disponível</option>
                                        <option value="INDISPONIVEL">Indisponível</option>
                                    </select>
                                </div>
                                <div class="col-12">
                                    <label for="editSinopse" class="form-label">Sinopse</label>
                                    <textarea id="editSinopse" class="form-control" rows="4" required></textarea>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer d-flex justify-content-between">
                            <button type="button" id="openDeleteConfirmBtn" class="btn btn-outline-danger">Remover
                                livro</button>
                            <div>
                                <button type="button" class="btn btn-secondary"
                                    data-bs-dismiss="modal">Cancelar</button>
                                <button type="submit" class="btn btn-warning">Salvar alterações</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Modal: Confirmação de remoção -->
            <div class="modal fade" id="deleteConfirmModal" tabindex="-1" aria-labelledby="deleteConfirmModalLabel"
                aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="deleteConfirmModalLabel">Confirmar remoção</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            Tem certeza de que deseja remover este livro? Essa ação removerá o cadastro para todas as
                            entidades e o livro deixará de aparecer nas pesquisas.
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                            <button type="button" id="confirmDeleteBookBtn" class="btn btn-danger">Remover</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal: Cadastro de livro -->
            <div class="modal fade" id="createBookModal" tabindex="-1" aria-labelledby="createBookModalLabel"
                aria-hidden="true">
                <div class="modal-dialog modal-lg">
                    <form id="createBookForm" class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="createBookModalLabel">Cadastrar livro</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label for="createCodigoInterno" class="form-label">Código interno</label>
                                    <input type="text" class="form-control" id="createCodigoInterno" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="createTitulo" class="form-label">Título</label>
                                    <input type="text" class="form-control" id="createTitulo" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="createAutor" class="form-label">Autor</label>
                                    <input type="text" class="form-control" id="createAutor" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="createGenero" class="form-label">Gênero</label>
                                    <input type="text" class="form-control" id="createGenero" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="createIsbn10" class="form-label">ISBN-10</label>
                                    <input type="text" class="form-control" id="createIsbn10" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="createIsbn13" class="form-label">ISBN-13</label>
                                    <input type="text" class="form-control" id="createIsbn13" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="createStatus" class="form-label">Status</label>
                                    <select id="createStatus" class="form-select" required>
                                        <option value="DISPONIVEL">Disponível</option>
                                        <option value="INDISPONIVEL">Indisponível</option>
                                    </select>
                                </div>
                                <div class="col-12">
                                    <label for="createSinopse" class="form-label">Sinopse</label>
                                    <textarea id="createSinopse" class="form-control" rows="4" required></textarea>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                            <button type="submit" class="btn btn-success">Salvar</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Modal: Consulta de cadastro (lista de usuários) -->
            <div class="modal fade" id="usersModal" tabindex="-1" aria-labelledby="usersModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="usersModalLabel">Cadastros de usuários (Administradores e
                                Bibliotecários)</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <ul id="usersList" class="list-group">
                                <!-- Lista de usuários renderizada aqui -->
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal: Perfil do usuário (logs) -->
            <div class="modal fade" id="profileModal" tabindex="-1" aria-labelledby="profileModalLabel"
                aria-hidden="true">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="profileModalLabel">Perfil</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <div class="mb-3">
                                <strong>Usuário:</strong> <span id="profileUserName"></span> •
                                <strong>Matrícula:</strong> <span id="profileUserMatricula"></span> •
                                <strong>Tipo:</strong> <span id="profileUserTipo"></span>
                            </div>
                            <h6>Logs de ações</h6>
                            <ul id="profileLogsList" class="list-group">
                                <!-- Logs vinculados ao usuário renderizados aqui -->
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ALUNO CONTAINER (SPA) -->
        <div id="alunoContainer" style="display:none;">
            <h3 class="text-center mb-4">Painel do Aluno</h3>

            <!-- Ações principais -->
            <div class="d-flex gap-2 mb-3">
                <button id="viewReservasBtn" class="btn btn-secondary">Histórico de Reservas</button>
                <button id="viewAlugueisBtn" class="btn btn-secondary">Meus Aluguéis Ativos</button>
                <button id="logoutAlunoBtn" class="btn btn-outline-danger ms-auto">Logout</button>
            </div>

            <!-- Lista de livros ativos -->
            <div id="booksAlunoListContainer" class="mt-3">
                <h5 class="mb-3">Livros disponíveis no sistema</h5>
                <ul id="booksAlunoList" class="list-group">
                    <!-- Cada item de livro será renderizado aqui -->
                    <!-- Template:
      <li class="list-group-item d-flex justify-content-between align-items-start">
        <div class="me-2 flex-grow-1">
          <div class="fw-bold">Título do Livro</div>
          <small>Autor: Fulano • ISBN: 1234567890 • Código: ABC123 • Status: DISPONIVEL</small>
        </div>
        <div class="d-flex flex-column gap-1">
          <button class="btn btn-outline-success btn-sm" data-action="reservar" data-id="...">Reservar</button>
          <button class="btn btn-outline-info btn-sm" data-action="verAluguel" data-id="...">Ver Aluguel</button>
          <button class="btn btn-outline-warning btn-sm" data-action="renovar" data-id="...">Renovar</button>
        </div>
      </li>
      -->
                </ul>
            </div>

            <!-- Barra de pesquisa (fica abaixo como no Admin) -->
            <form id="searchBookAlunoForm" class="mt-4">
                <div class="row g-2">
                    <div class="col-12 col-md-6">
                        <input type="text" id="searchBookAlunoInput" class="form-control"
                            placeholder="Pesquisar por título, autor, ISBN ou código interno...">
                    </div>
                    <div class="col-12 col-md-3">
                        <select id="searchBookAlunoField" class="form-select">
                            <option value="">Todos os campos</option>
                            <option value="titulo">Título</option>
                            <option value="autor">Autor</option>
                            <option value="isbn">ISBN</option>
                            <option value="codigoInterno">Código Interno</option>
                        </select>
                    </div>
                    <div class="col-12 col-md-3">
                        <button type="submit" class="btn btn-primary w-100">Pesquisar</button>
                    </div>
                </div>
            </form>

            <!-- Modal: Confirmação de reserva -->
            <div class="modal fade" id="confirmReservaModal" tabindex="-1" aria-labelledby="confirmReservaModalLabel"
                aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="confirmReservaModalLabel">Confirmar reserva</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            Tem certeza que deseja reservar este livro? Após confirmar, o status será alterado para
                            <strong>Reservado</strong> e será criado um aluguel com prazo de 30 dias.
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                            <button type="button" id="confirmReservaBtn" class="btn btn-success">Confirmar
                                Reserva</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal: Ver aluguel -->
            <div class="modal fade" id="viewAluguelModal" tabindex="-1" aria-labelledby="viewAluguelModalLabel"
                aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="viewAluguelModalLabel">Detalhes do Aluguel</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <p><strong>Título:</strong> <span id="aluguelTitulo"></span></p>
                            <p><strong>Status:</strong> <span id="aluguelStatus"></span></p>
                            <p><strong>Data de início:</strong> <span id="aluguelDataInicio"></span></p>
                            <p><strong>Data de devolução:</strong> <span id="aluguelDataFim"></span></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal: Histórico de reservas -->
            <div class="modal fade" id="reservasModal" tabindex="-1" aria-labelledby="reservasModalLabel"
                aria-hidden="true">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="reservasModalLabel">Histórico de Reservas</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <ul id="reservasList" class="list-group">
                                <!-- Reservas do aluno renderizadas aqui -->
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal: Aluguéis ativos -->
            <div class="modal fade" id="alugueisModal" tabindex="-1" aria-labelledby="alugueisModalLabel"
                aria-hidden="true">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="alugueisModalLabel">Meus Aluguéis Ativos</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <ul id="alugueisList" class="list-group">
                                <!-- Aluguéis ativos renderizados aqui -->
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- BIBLIOTECÁRIO CONTAINER (SPA) -->
        <div id="bibliotecarioContainer" style="display:none;">
            <h3 class="text-center mb-4">Painel do Bibliotecário</h3>

            <!-- Ações principais -->
            <div class="d-flex gap-2 mb-3">
                <button id="openCreateBookBibBtn" class="btn btn-success">Cadastrar livro</button>
                <button id="logoutBibBtn" class="btn btn-outline-danger ms-auto">Logout</button>
            </div>

            <!-- Pesquisa de livros -->
            <form id="searchBookBibForm" class="mb-3">
                <div class="row g-2">
                    <div class="col-12 col-md-6">
                        <input type="text" id="searchBookBibInput" class="form-control"
                            placeholder="Pesquisar por título, autor, ISBN ou código interno...">
                    </div>
                    <div class="col-12 col-md-3">
                        <select id="searchBookBibField" class="form-select">
                            <option value="">Todos os campos</option>
                            <option value="titulo">Título</option>
                            <option value="autor">Autor</option>
                            <option value="isbn">ISBN</option>
                            <option value="codigoInterno">Código Interno</option>
                        </select>
                    </div>
                    <div class="col-12 col-md-3">
                        <button type="submit" class="btn btn-primary w-100">Pesquisar</button>
                    </div>
                </div>
            </form>

            <!-- Lista de livros -->
            <div id="booksBibListContainer" class="mt-3">
                <h5 class="mb-3">Resultados da pesquisa</h5>
                <ul id="booksBibList" class="list-group">
                    <!-- Aqui serão renderizados os livros com botões de "Consultar" -->
                </ul>
            </div>

            <!-- Modal: Consultar livro -->
            <div class="modal fade" id="consultBookBibModal" tabindex="-1" aria-labelledby="consultBookBibModalLabel"
                aria-hidden="true">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="consultBookBibModalLabel">Consultar livro</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <dl class="row">
                                <dt class="col-sm-4">Código interno</dt>
                                <dd class="col-sm-8" id="bibCodigoInterno"></dd>
                                <dt class="col-sm-4">Título</dt>
                                <dd class="col-sm-8" id="bibTitulo"></dd>
                                <dt class="col-sm-4">Autor</dt>
                                <dd class="col-sm-8" id="bibAutor"></dd>
                                <dt class="col-sm-4">Gênero</dt>
                                <dd class="col-sm-8" id="bibGenero"></dd>
                                <dt class="col-sm-4">ISBN-10</dt>
                                <dd class="col-sm-8" id="bibIsbn10"></dd>
                                <dt class="col-sm-4">ISBN-13</dt>
                                <dd class="col-sm-8" id="bibIsbn13"></dd>
                                <dt class="col-sm-4">Status</dt>
                                <dd class="col-sm-8" id="bibStatus"></dd>
                                <dt class="col-sm-4">Sinopse</dt>
                                <dd class="col-sm-8" id="bibSinopse"></dd>
                            </dl>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal: Cadastro de livro -->
            <div class="modal fade" id="createBookBibModal" tabindex="-1" aria-labelledby="createBookBibModalLabel"
                aria-hidden="true">
                <div class="modal-dialog modal-lg">
                    <form id="createBookBibForm" class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="createBookBibModalLabel">Cadastrar livro</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label for="createBibCodigoInterno" class="form-label">Código interno</label>
                                    <input type="text" class="form-control" id="createBibCodigoInterno" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="createBibTitulo" class="form-label">Título</label>
                                    <input type="text" class="form-control" id="createBibTitulo" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="createBibAutor" class="form-label">Autor</label>
                                    <input type="text" class="form-control" id="createBibAutor" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="createBibGenero" class="form-label">Gênero</label>
                                    <input type="text" class="form-control" id="createBibGenero" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="createBibIsbn10" class="form-label">ISBN-10</label>
                                    <input type="text" class="form-control" id="createBibIsbn10">
                                </div>
                                <div class="col-md-6">
                                    <label for="createBibIsbn13" class="form-label">ISBN-13</label>
                                    <input type="text" class="form-control" id="createBibIsbn13">
                                </div>
                                <div class="col-md-6">
                                    <label for="createBibStatus" class="form-label">Status</label>
                                    <select id="createBibStatus" class="form-select" required>
                                        <option value="DISPONIVEL">Disponível</option>
                                        <option value="INDISPONIVEL">Indisponível</option>
                                    </select>
                                </div>
                                <div class="col-12">
                                    <label for="createBibSinopse" class="form-label">Sinopse</label>
                                    <textarea id="createBibSinopse" class="form-control" rows="4"></textarea>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                            <button type="submit" class="btn btn-success">Salvar</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Pesquisa de aluno por matrícula -->
            <form id="searchAlunoForm" class="mt-4">
                <div class="input-group">
                    <input type="text" id="searchAlunoMatricula" class="form-control"
                        placeholder="Pesquisar aluno pela matrícula...">
                    <button type="submit" class="btn btn-warning">Pesquisar Aluno</button>
                </div>
            </form>

            <!-- Resultados do aluno -->
            <div id="alunoResultContainer" class="mt-3" style="display:none;">
                <h5 class="mb-3">Dados do aluno</h5>
                <p><strong>Nome:</strong> <span id="alunoNome"></span></p>
                <p><strong>Matrícula:</strong> <span id="alunoMatricula"></span></p>

                <h6>Reservas ativas</h6>
                <ul id="alunoReservasList" class="list-group mb-3"></ul>

                <h6>Aluguéis ativos</h6>
                <ul id="alunoAlugueisList" class="list-group"></ul>
            </div>

            <!-- Modal: Detalhes do aluguel -->
            <div class="modal fade" id="aluguelBibModal" tabindex="-1" aria-labelledby="aluguelBibModalLabel"
                aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="aluguelBibModalLabel">Detalhes do Aluguel</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <p><strong>Título:</strong> <span id="bibAluguelTitulo"></span></p>
                            <p><strong>Status:</strong> <span id="bibAluguelStatus"></span></p>
                            <p><strong>Data de início:</strong> <span id="bibAluguelDataInicio"></span></p>
                            <p><strong>Data de devolução:</strong> <span id="bibAluguelDataFim"></span></p>
                            <p><strong>Aluno:</strong> <span id="bibAluguelAluno"></span></p>
                            <p><strong>Matrícula:</strong> <span id="bibAluguelMatricula"></span></p>
                            <p><strong>Observações:</strong> <span id="bibAluguelObservacoes"></span></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        <!-- JS externo -->
        <script src="../static/script.js"></script>
</body>

</html>